[["index.html", "Data Visualization Guide Section 1 New Home", " Data Visualization Guide Jordan Campbell 2020-12-17 Section 1 New Home Test This is a sample book written in Markdown. You can use anything that Pandocs Markdown supports, e.g., a math equation \\(a^2 + b^2 = c^2\\). The bookdown package can be installed from CRAN or Github: install.packages(&quot;bookdown&quot;) # or the development version # devtools::install_github(&quot;rstudio/bookdown&quot;) Remember each Rmd file contains one and only one chapter, and a chapter is defined by the first-level heading #. To compile this example to PDF, you need XeLaTeX. You are recommended to install TinyTeX (which includes XeLaTeX): https://yihui.org/tinytex/. "],["intro.html", "Section 2 Introduction", " Section 2 Introduction You can label chapter and section titles using {#label} after them, e.g., we can reference Chapter 2. If you do not manually label them, there will be automatic labels anyway, e.g., Chapter ??. Figures and tables with captions will be placed in figure and table environments, respectively. par(mar = c(4, 4, .1, .1)) plot(pressure, type = &#39;b&#39;, pch = 19) Figure 2.1: Here is a nice figure! Reference a figure by its code chunk label with the fig: prefix, e.g., see Figure 2.1. Similarly, you can reference tables generated from knitr::kable(), e.g., see Table 2.1. knitr::kable( head(iris, 20), caption = &#39;Here is a nice table!&#39;, booktabs = TRUE ) Table 2.1: Here is a nice table! Sepal.Length Sepal.Width Petal.Length Petal.Width Species 5.1 3.5 1.4 0.2 setosa 4.9 3.0 1.4 0.2 setosa 4.7 3.2 1.3 0.2 setosa 4.6 3.1 1.5 0.2 setosa 5.0 3.6 1.4 0.2 setosa 5.4 3.9 1.7 0.4 setosa 4.6 3.4 1.4 0.3 setosa 5.0 3.4 1.5 0.2 setosa 4.4 2.9 1.4 0.2 setosa 4.9 3.1 1.5 0.1 setosa 5.4 3.7 1.5 0.2 setosa 4.8 3.4 1.6 0.2 setosa 4.8 3.0 1.4 0.1 setosa 4.3 3.0 1.1 0.1 setosa 5.8 4.0 1.2 0.2 setosa 5.7 4.4 1.5 0.4 setosa 5.4 3.9 1.3 0.4 setosa 5.1 3.5 1.4 0.3 setosa 5.7 3.8 1.7 0.3 setosa 5.1 3.8 1.5 0.3 setosa You can write citations, too. For example, we are using the bookdown package (Xie 2020) in this sample book, which was built on top of R Markdown and knitr (Xie 2015). References "],["charting.html", "Section 3 Charting 3.1 ggplot2 3.2 plotly 3.3 rAmCharts 3.4 echarts4r", " Section 3 Charting Here is a review of existing methods. 3.1 ggplot2 3.2 plotly 3.3 rAmCharts 3.4 echarts4r "],["data.html", "Section 4 Data 4.1 Reading and Returning Data 4.2 Data Wrangling", " Section 4 Data We describe our methods in this chapter. 4.1 Reading and Returning Data 4.1.1 readr 4.1.2 DT 4.2 Data Wrangling 4.2.1 dplyr 4.2.1.1 filter() 4.2.1.2 select() 4.2.1.3 mutate() 4.2.1.4 group_by() &amp; summarise() 4.2.1.5 left_join, right_join, &amp; full_join 4.2.1.6 pivot_longer &amp; pivot_wider "],["shiny.html", "Section 5 shiny 5.1 Introduction 5.2 UI &amp; Server 5.3 Interactivity 5.4 Basic Demo 5.5 Complex Demo 5.6 Examples", " Section 5 shiny Some significant applications are demonstrated in this chapter. 5.1 Introduction 5.2 UI &amp; Server 5.3 Interactivity 5.4 Basic Demo 5.5 Complex Demo 5.6 Examples "],["mapping.html", "Section 6 Mapping 6.1 ggplot2 6.2 leaflet", " Section 6 Mapping Mapping 6.1 ggplot2 6.2 leaflet "],["testing.html", "Section 7 Testing 7.1 Images 7.2 GIFs 7.3 Videos 7.4 R Code 7.5 Compact Shiny", " Section 7 Testing 7.1 Images 7.2 GIFs 7.3 Videos 7.4 R Code library(tidyverse) ## Warning: package &#39;tidyverse&#39; was built under R version 4.0.3 ## -- Attaching packages --------------------------------------- tidyverse 1.3.0 -- ## v ggplot2 3.3.2 v purrr 0.3.4 ## v tibble 3.0.4 v dplyr 1.0.2 ## v tidyr 1.1.2 v stringr 1.4.0 ## v readr 1.3.1 v forcats 0.5.0 ## Warning: package &#39;tibble&#39; was built under R version 4.0.3 ## -- Conflicts ------------------------------------------ tidyverse_conflicts() -- ## x dplyr::filter() masks stats::filter() ## x dplyr::lag() masks stats::lag() library(readr) library(echarts4r) ## Warning: package &#39;echarts4r&#39; was built under R version 4.0.3 school_type &lt;- c(&quot;Open Enrollment Charter&quot;, &quot;Traditional ISD/CSD&quot;) demographics &lt;- readr::read_csv(&quot;https://raw.githubusercontent.com/jordancampbell23/charter/main/df_110820.csv&quot;) %&gt;% select(3, 1, 2, 15, 16, 14, 13, 4:12, 17:70) ## Parsed with column specification: ## cols( ## .default = col_character(), ## YEAR = col_double(), ## `ALL FUNDS-LOCAL TAX REVENUE FROM M&amp;O` = col_double(), ## `ALL FUNDS-STATE REVENUE` = col_double(), ## `ALL FUNDS-OTHER LOCAL &amp; INTERMEDIATE REVENUE` = col_double(), ## `ALL FUNDS-LOCAL PROPERTY TAXES FROM I&amp;S` = col_double(), ## `ALL FUNDS-STATE DEBT FUNDS` = col_double(), ## `ALL FUNDS-OTHER RECEIPTS` = col_double(), ## `ALL FUNDS-DEBT SERVICE FINANCING RELATED REVENUE` = col_double(), ## `Revenue Sum` = col_double(), ## `Revenue Sum w/ Debt` = col_double(), ## `2018-2019 ADA` = col_number(), ## REGION = col_double(), ## Asian = col_double(), ## `Black or African American` = col_double(), ## `Hispanic/Latino` = col_double(), ## `Two or more races` = col_double(), ## White = col_double(), ## `American Indian or Alaska Nat` = col_double(), ## `Native Hawaiian/Other Pacific` = col_double(), ## `Total Ethnicity` = col_double() ## # ... with 10 more columns ## ) ## See spec(...) for full column specifications. demographics$`District 2019 Overall Scaled Score` &lt;- as.numeric(demographics$`District 2019 Overall Scaled Score`) ## Warning: NAs introduced by coercion demographics &lt;- demographics %&gt;% select(6:7, 24, 40, 17:23, 41, 43, 45, 47) %&gt;% group_by(`REPORT_CHARTER_STATUS`) %&gt;% summarise(`2018-2019 ADA` = sum(`2018-2019 ADA`), `All Students Count` = sum(`All Students Count`), `Total Ethnicity` = sum(`Total Ethnicity`), `Asian` = sum(`Asian`), `Black or African American` = sum(`Black or African American`), `Hispanic/Latino` = sum(`Hispanic/Latino`), `Two or more races` = sum(`Two or more races`), `White` = sum(`White`), `American Indian or Alaska Nat` = sum(`American Indian or Alaska Nat`), `Native Hawaiian/Other Pacific` = sum(`Native Hawaiian/Other Pacific`), `Total Ethnicity` = sum(`Total Ethnicity`), `# Economically Disadvantaged` = sum(`# Economically Disadvantaged`), `# LEP Students` = sum(`# LEP Students`), `# Special Education` = sum(`# Special Education`), .groups = &quot;keep&quot;) %&gt;% mutate(`% Asian` = Asian/`Total Ethnicity`) %&gt;% mutate(`% Black` = `Black or African American`/`Total Ethnicity`) %&gt;% mutate(`% Hispanic` = `Hispanic/Latino`/`Total Ethnicity`) %&gt;% mutate(`% White` = White/`Total Ethnicity`) %&gt;% mutate(`% Minority` = (`Total Ethnicity` -`White`)/`Total Ethnicity`) %&gt;% mutate(`% Econ. Disadvantaged` = `# Economically Disadvantaged`/`All Students Count`) %&gt;% mutate(`% LEP` = `# LEP Students`/`All Students Count`) %&gt;% mutate(`% SPED` = `# Special Education`/`All Students Count`) %&gt;% select(1, 15:22) %&gt;% pivot_longer(cols = 2:9, names_to = &quot;Demographic Variable&quot;, values_to = &quot;Percent&quot;) my_colors &lt;- tibble::tibble( REPORT_CHARTER_STATUS = school_type, color = c(&quot;#FF6633&quot;, &quot;#2879CB&quot;) ) ## filter selected and add color information dat &lt;- demographics %&gt;% #dplyr::filter(`Demographic Variable` %in% input$crop_select3) %&gt;% dplyr::left_join(my_colors, by = &quot;REPORT_CHARTER_STATUS&quot;) %&gt;% dplyr::mutate(`Label` = paste0(round(Percent * 100, 2), &quot;%&quot;)) ## plot e &lt;- dat %&gt;% dplyr::group_by(REPORT_CHARTER_STATUS) %&gt;% echarts4r::e_charts(`Demographic Variable`) %&gt;% echarts4r::e_tooltip(trigger = &quot;item&quot;, formatter = e_tooltip_item_formatter(style = &quot;percent&quot;, digits = 2)) %&gt;% echarts4r::e_x_axis(axisTick = list(interval = 0)) %&gt;% echarts4r::e_color(unique(dat$color)) %&gt;% echarts4r::e_toolbox(bottom = 0) %&gt;% echarts4r::e_toolbox_feature(feature = &quot;dataZoom&quot;) %&gt;% echarts4r::e_toolbox_feature(feature = &quot;restore&quot;) %&gt;% echarts4r::e_x_axis(axisLabel = list(fontSize = 14, interval = 0, rotate = 45)) %&gt;% echarts4r::e_y_axis(axisLabel = list(fontSize = 14), formatter = e_axis_formatter(style = &quot;percent&quot;, digits = 0)) %&gt;% e_tooltip(formatter = htmlwidgets::JS(&quot; function(params){ return( params.marker + params.seriesName + &#39;&lt;br/&gt;&#39; + params.value[0] + &#39;: &#39; + &#39; &#39; + (params.value[1] * 100).toFixed(2) + &#39;%&#39; ) } &quot;)) e %&gt;% echarts4r::e_bar(`Percent`, barGap = &quot;0%&quot;, bind = Label, label=list(show = T, formatter = &quot;{b}&quot;, position = &quot;top&quot;, color = &quot;#000000&quot;)) 7.5 Compact Shiny knitr::include_app(&#39;https://reason.shinyapps.io/az_ed/&#39;, height = &#39;600px&#39;) "],["partial-screen.html", "Section 8 Partial Screen", " Section 8 Partial Screen Your browser doesnt support iframes 5 "],["full-screen-shiny.html", "Section 9 Full Screen Shiny", " Section 9 Full Screen Shiny Your browser doesnt support iframes "],["references.html", "References", " References Xie, Yihui. 2015. Dynamic Documents with R and Knitr. 2nd ed. Boca Raton, Florida: Chapman; Hall/CRC. http://yihui.org/knitr/. . 2020. Bookdown: Authoring Books and Technical Documents with R Markdown. https://github.com/rstudio/bookdown. "]]
